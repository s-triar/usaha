<form
  class="form-auth m-tb-1rem"
  fxLayout="column"
  fxLayoutAlign="center center"
  fxLayoutGap="1rem"
  [formGroup]="form"
  (ngSubmit)="submit()"
>
  <mat-form-field appearance="fill" class="auth-form-field">
    <mat-icon class="auth-mat-form-field-prefix" matPrefix>person</mat-icon>
    <mat-label>Username</mat-label>
    <input matInput formControlName="username"/>
    <mat-error *ngIf="form.getError('required', 'username')">
      Username is required
    </mat-error>
    <mat-error *ngIf="form.getError('maxlength', 'username')">
      Username has max length of 255 characters
    </mat-error>
    <mat-error *ngIf="form.getError('usernameAlreadyExists', 'username')">
      Username has been already taken
    </mat-error>
    
  </mat-form-field>
  <mat-form-field appearance="fill" class="auth-form-field">
    <mat-icon class="auth-mat-form-field-prefix" matPrefix>badge</mat-icon>
    <mat-label>Fullname</mat-label>
    <input matInput  formControlName="fullname"/>
    <mat-error *ngIf="form.getError('required', 'fullname')">
      Fullname is required
    </mat-error>
    <mat-error *ngIf="form.getError('maxlength', 'fullname')">
      Fullname has max length of 255 characters
    </mat-error>
  </mat-form-field>
  <mat-form-field appearance="fill" class="auth-form-field">
    <mat-icon class="auth-mat-form-field-prefix" matPrefix>email</mat-icon>
    <mat-label>Email</mat-label>
    <input matInput  formControlName="email"/>
    <mat-error *ngIf="form.getError('required', 'email')">
      Email is required
    </mat-error>
    <mat-error *ngIf="form.getError('maxlength', 'email')">
      Email has max length of 255 characters
    </mat-error>
    <mat-error *ngIf="form.getError('emailAlreadyExists', 'email')">
      Email has been already taken
    </mat-error>
  </mat-form-field>
  <mat-form-field appearance="fill" class="auth-form-field">
    <mat-icon class="auth-mat-form-field-prefix" matPrefix>call</mat-icon>
    <mat-label>Phone</mat-label>
    <input matInput  formControlName="phone"/>
    <mat-error *ngIf="form.getError('required', 'phone')">
      Phone is required
    </mat-error>
    <mat-error *ngIf="form.getError('maxlength', 'phone')">
      Phone has max length of 13 characters
    </mat-error>
    <mat-error *ngIf="form.getError('pattern', 'phone')">
      Phone only receives number
    </mat-error>
  </mat-form-field>
  <mat-form-field appearance="fill" class="auth-form-field">
    <mat-icon class="auth-mat-form-field-prefix" matPrefix>password</mat-icon>
    <mat-label>Password</mat-label>
    <input matInput type="password" formControlName="password"/>
    <mat-error *ngIf="form.getError('required', 'password')">
      Password is required
    </mat-error>
    <mat-error *ngIf="form.getError('maxlength', 'password')">
      Password has max length of 12 characters
    </mat-error>
  </mat-form-field>
  <mat-form-field appearance="fill" class="auth-form-field">
    <mat-icon class="auth-mat-form-field-prefix" matPrefix>sync_lock</mat-icon>
    <mat-label>Confirm Password</mat-label>
    <input matInput type="password" formControlName="confirmPassword"/>
    <mat-error *ngIf="form.hasError('passwordNotMatch')">Confirm Password and Password do not match</mat-error>
  </mat-form-field>
  <button type="submit" [disabled]="form.invalid" mat-raised-button color="accent">Register</button>
</form>
